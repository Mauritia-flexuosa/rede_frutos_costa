var data=[["M-67A","X",1],
["H-66","X",0],
["M-50","X",0],
["M-51A","X",0],
["H-51","X",0],
["H-34","X",0],
["M-67","X",0],
["M-NA","X",0],
["M-61","X",0],
["H-NA","X",0],
["M-63","X",0],
["H-75","X",0],
["M-67A","Ticum",1],
["H-66","Ticum",0],
["M-50","Ticum",0],
["M-51A","Ticum",0],
["H-51","Ticum",0],
["H-34","Ticum",0],
["M-67","Ticum",1],
["M-NA","Ticum",0],
["M-61","Ticum",0],
["H-NA","Ticum",0],
["M-63","Ticum",1],
["H-75","Ticum",0],
["M-67A","Biguaçu",1],
["H-66","Biguaçu",0],
["M-50","Biguaçu",0],
["M-51A","Biguaçu",0],
["H-51","Biguaçu",0],
["H-34","Biguaçu",0],
["M-67","Biguaçu",0],
["M-NA","Biguaçu",0],
["M-61","Biguaçu",0],
["H-NA","Biguaçu",0],
["M-63","Biguaçu",0],
["H-75","Biguaçu",0],
["M-67A","Butiá",1],
["H-66","Butiá",0],
["M-50","Butiá",0],
["M-51A","Butiá",0],
["H-51","Butiá",0],
["H-34","Butiá",0],
["M-67","Butiá",0],
["M-NA","Butiá",0],
["M-61","Butiá",0],
["H-NA","Butiá",0],
["M-63","Butiá",0],
["H-75","Butiá",0],
["M-67A","Fruto.do.conde",1],
["H-66","Fruto.do.conde",1],
["M-50","Fruto.do.conde",0],
["M-51A","Fruto.do.conde",0],
["H-51","Fruto.do.conde",0],
["H-34","Fruto.do.conde",1],
["M-67","Fruto.do.conde",1],
["M-NA","Fruto.do.conde",0],
["M-61","Fruto.do.conde",1],
["H-NA","Fruto.do.conde",0],
["M-63","Fruto.do.conde",1],
["H-75","Fruto.do.conde",0],
["M-67A","Jambo",1],
["H-66","Jambo",1],
["M-50","Jambo",1],
["M-51A","Jambo",1],
["H-51","Jambo",1],
["H-34","Jambo",1],
["M-67","Jambo",0],
["M-NA","Jambo",1],
["M-61","Jambo",1],
["H-NA","Jambo",1],
["M-63","Jambo",1],
["H-75","Jambo",0],
["M-67A","Bilicó",1],
["H-66","Bilicó",1],
["M-50","Bilicó",1],
["M-51A","Bilicó",0],
["H-51","Bilicó",0],
["H-34","Bilicó",1],
["M-67","Bilicó",0],
["M-NA","Bilicó",0],
["M-61","Bilicó",1],
["H-NA","Bilicó",1],
["M-63","Bilicó",0],
["H-75","Bilicó",1],
["M-67A","Carambola",0],
["H-66","Carambola",1],
["M-50","Carambola",1],
["M-51A","Carambola",0],
["H-51","Carambola",1],
["H-34","Carambola",0],
["M-67","Carambola",0],
["M-NA","Carambola",0],
["M-61","Carambola",0],
["H-NA","Carambola",0],
["M-63","Carambola",0],
["H-75","Carambola",0],
["M-67A","Jabuticaba",0],
["H-66","Jabuticaba",0],
["M-50","Jabuticaba",1],
["M-51A","Jabuticaba",0],
["H-51","Jabuticaba",0],
["H-34","Jabuticaba",0],
["M-67","Jabuticaba",0],
["M-NA","Jabuticaba",0],
["M-61","Jabuticaba",0],
["H-NA","Jabuticaba",0],
["M-63","Jabuticaba",0],
["H-75","Jabuticaba",0],
["M-67A","Cabeludinha",0],
["H-66","Cabeludinha",0],
["M-50","Cabeludinha",1],
["M-51A","Cabeludinha",0],
["H-51","Cabeludinha",0],
["H-34","Cabeludinha",0],
["M-67","Cabeludinha",0],
["M-NA","Cabeludinha",0],
["M-61","Cabeludinha",0],
["H-NA","Cabeludinha",0],
["M-63","Cabeludinha",0],
["H-75","Cabeludinha",0],
["M-67A","Morango.do.mato",0],
["H-66","Morango.do.mato",0],
["M-50","Morango.do.mato",1],
["M-51A","Morango.do.mato",0],
["H-51","Morango.do.mato",0],
["H-34","Morango.do.mato",0],
["M-67","Morango.do.mato",0],
["M-NA","Morango.do.mato",0],
["M-61","Morango.do.mato",0],
["H-NA","Morango.do.mato",0],
["M-63","Morango.do.mato",0],
["H-75","Morango.do.mato",0],
["M-67A","Ameixa",0],
["H-66","Ameixa",0],
["M-50","Ameixa",1],
["M-51A","Ameixa",0],
["H-51","Ameixa",0],
["H-34","Ameixa",0],
["M-67","Ameixa",0],
["M-NA","Ameixa",0],
["M-61","Ameixa",0],
["H-NA","Ameixa",0],
["M-63","Ameixa",0],
["H-75","Ameixa",0],
["M-67A","Maria.mole",0],
["H-66","Maria.mole",0],
["M-50","Maria.mole",1],
["M-51A","Maria.mole",0],
["H-51","Maria.mole",0],
["H-34","Maria.mole",0],
["M-67","Maria.mole",0],
["M-NA","Maria.mole",0],
["M-61","Maria.mole",0],
["H-NA","Maria.mole",0],
["M-63","Maria.mole",0],
["H-75","Maria.mole",0],
["M-67A","Bergamota",0],
["H-66","Bergamota",0],
["M-50","Bergamota",1],
["M-51A","Bergamota",0],
["H-51","Bergamota",0],
["H-34","Bergamota",0],
["M-67","Bergamota",0],
["M-NA","Bergamota",0],
["M-61","Bergamota",0],
["H-NA","Bergamota",0],
["M-63","Bergamota",0],
["H-75","Bergamota",0],
["M-67A","Trinca.trinca",0],
["H-66","Trinca.trinca",0],
["M-50","Trinca.trinca",1],
["M-51A","Trinca.trinca",0],
["H-51","Trinca.trinca",0],
["H-34","Trinca.trinca",0],
["M-67","Trinca.trinca",0],
["M-NA","Trinca.trinca",0],
["M-61","Trinca.trinca",0],
["H-NA","Trinca.trinca",0],
["M-63","Trinca.trinca",1],
["H-75","Trinca.trinca",0],
["M-67A","Ingá",0],
["H-66","Ingá",0],
["M-50","Ingá",1],
["M-51A","Ingá",0],
["H-51","Ingá",0],
["H-34","Ingá",0],
["M-67","Ingá",0],
["M-NA","Ingá",0],
["M-61","Ingá",0],
["H-NA","Ingá",0],
["M-63","Ingá",0],
["H-75","Ingá",0],
["M-67A","Ingá.feijão",0],
["H-66","Ingá.feijão",0],
["M-50","Ingá.feijão",1],
["M-51A","Ingá.feijão",0],
["H-51","Ingá.feijão",1],
["H-34","Ingá.feijão",1],
["M-67","Ingá.feijão",0],
["M-NA","Ingá.feijão",1],
["M-61","Ingá.feijão",0],
["H-NA","Ingá.feijão",1],
["M-63","Ingá.feijão",0],
["H-75","Ingá.feijão",0],
["M-67A","Nona.baboso",0],
["H-66","Nona.baboso",0],
["M-50","Nona.baboso",1],
["M-51A","Nona.baboso",1],
["H-51","Nona.baboso",1],
["H-34","Nona.baboso",1],
["M-67","Nona.baboso",0],
["M-NA","Nona.baboso",0],
["M-61","Nona.baboso",0],
["H-NA","Nona.baboso",0],
["M-63","Nona.baboso",0],
["H-75","Nona.baboso",1],
["M-67A","Jaca",0],
["H-66","Jaca",0],
["M-50","Jaca",0],
["M-51A","Jaca",1],
["H-51","Jaca",0],
["H-34","Jaca",0],
["M-67","Jaca",1],
["M-NA","Jaca",1],
["M-61","Jaca",0],
["H-NA","Jaca",0],
["M-63","Jaca",0],
["H-75","Jaca",0],
["M-67A","Cajá",0],
["H-66","Cajá",0],
["M-50","Cajá",0],
["M-51A","Cajá",1],
["H-51","Cajá",1],
["H-34","Cajá",0],
["M-67","Cajá",1],
["M-NA","Cajá",0],
["M-61","Cajá",1],
["H-NA","Cajá",0],
["M-63","Cajá",1],
["H-75","Cajá",0],
["M-67A","Araçá",0],
["H-66","Araçá",0],
["M-50","Araçá",0],
["M-51A","Araçá",0],
["H-51","Araçá",1],
["H-34","Araçá",0],
["M-67","Araçá",0],
["M-NA","Araçá",0],
["M-61","Araçá",1],
["H-NA","Araçá",0],
["M-63","Araçá",0],
["H-75","Araçá",0],
["M-67A","Pêssego",0],
["H-66","Pêssego",0],
["M-50","Pêssego",0],
["M-51A","Pêssego",0],
["H-51","Pêssego",1],
["H-34","Pêssego",0],
["M-67","Pêssego",0],
["M-NA","Pêssego",0],
["M-61","Pêssego",0],
["H-NA","Pêssego",0],
["M-63","Pêssego",0],
["H-75","Pêssego",0],
["M-67A","Cajú",0],
["H-66","Cajú",0],
["M-50","Cajú",0],
["M-51A","Cajú",0],
["H-51","Cajú",1],
["H-34","Cajú",1],
["M-67","Cajú",0],
["M-NA","Cajú",0],
["M-61","Cajú",0],
["H-NA","Cajú",0],
["M-63","Cajú",0],
["H-75","Cajú",0],
["M-67A","Laranja",0],
["H-66","Laranja",0],
["M-50","Laranja",0],
["M-51A","Laranja",0],
["H-51","Laranja",1],
["H-34","Laranja",0],
["M-67","Laranja",0],
["M-NA","Laranja",0],
["M-61","Laranja",0],
["H-NA","Laranja",0],
["M-63","Laranja",0],
["H-75","Laranja",0],
["M-67A","Uva",0],
["H-66","Uva",0],
["M-50","Uva",0],
["M-51A","Uva",0],
["H-51","Uva",1],
["H-34","Uva",0],
["M-67","Uva",0],
["M-NA","Uva",0],
["M-61","Uva",0],
["H-NA","Uva",0],
["M-63","Uva",0],
["H-75","Uva",0],
["M-67A","Amora",0],
["H-66","Amora",0],
["M-50","Amora",0],
["M-51A","Amora",0],
["H-51","Amora",1],
["H-34","Amora",0],
["M-67","Amora",0],
["M-NA","Amora",0],
["M-61","Amora",0],
["H-NA","Amora",0],
["M-63","Amora",0],
["H-75","Amora",0],
["M-67A","Abricó",0],
["H-66","Abricó",0],
["M-50","Abricó",0],
["M-51A","Abricó",0],
["H-51","Abricó",0],
["H-34","Abricó",0],
["M-67","Abricó",0],
["M-NA","Abricó",0],
["M-61","Abricó",0],
["H-NA","Abricó",0],
["M-63","Abricó",0],
["H-75","Abricó",1],
["M-67A","Tâmara",0],
["H-66","Tâmara",0],
["M-50","Tâmara",0],
["M-51A","Tâmara",0],
["H-51","Tâmara",0],
["H-34","Tâmara",0],
["M-67","Tâmara",0],
["M-NA","Tâmara",0],
["M-61","Tâmara",0],
["H-NA","Tâmara",0],
["M-63","Tâmara",0],
["H-75","Tâmara",1],
["M-67A","Cidra",0],
["H-66","Cidra",0],
["M-50","Cidra",0],
["M-51A","Cidra",0],
["H-51","Cidra",0],
["H-34","Cidra",0],
["M-67","Cidra",0],
["M-NA","Cidra",0],
["M-61","Cidra",0],
["H-NA","Cidra",0],
["M-63","Cidra",0],
["H-75","Cidra",1],
["M-67A","Figo",0],
["H-66","Figo",0],
["M-50","Figo",0],
["M-51A","Figo",0],
["H-51","Figo",0],
["H-34","Figo",0],
["M-67","Figo",0],
["M-NA","Figo",0],
["M-61","Figo",0],
["H-NA","Figo",0],
["M-63","Figo",0],
["H-75","Figo",1]]



 function sort(sortOrder){
                    return function(a,b){ return d3.ascending(sortOrder.indexOf(a),sortOrder.indexOf(b)) }
                  }
var color = {'Unlinked ':'#3366CC','M-67A':'#7FC97F','H-66':'#BEAED4','M-50':'#FDC086','M-51A':'#FFFF99','H-51':'#386CB0','H-34':'#F0027F','M-67':'#BF5B17','M-NA':'#666666','M-61':'#7FC97F','H-NA':'#BEAED4','M-63':'#FDC086','H-75':'#FFFF99'};




var g1 = svg.append("g").attr("transform","translate(181,50)");
                         var bp1=viz.bP()
                         .data(data)
                         .value(d=>d[2])
                         .min(10)
                         .pad(1)
                         .height(400)
                         .width(200)
                         .barSize(35)
                         .fill(d=>color[d.primary])
.orient("vertical");

g1.call(bp1);g1.append("text")
                        .attr("x",-50).attr("y",-8)
                        .style("text-anchor","middle")
                        .text("Informantes");
                        g1.append("text")
                        .attr("x", 250)
                        .attr("y",-8).style("text-anchor","middle")
                        .text("Frutos");
                        g1.append("text")
                        .attr("x",100).attr("y",-25)
                        .style("text-anchor","middle")
                        .attr("class","header")
                        .text("Frutos de antigamente na rede interativa: Quem citou quem?");

 g1.selectAll(".mainBars")
                        .on("mouseover",mouseover)
                        .on("mouseout",mouseout);

 g1.selectAll(".mainBars").append("text").attr("class","label")
                        .attr("x",d=>(d.part=="primary"? -26:38))
                        .attr("y",d=>+6)
                        .text(d=>d.key)
                        .attr("text-anchor",d=>(d.part=="primary"? "end": "start"));

 g1.selectAll(".mainBars").append("text").attr("class","perc")
                        .attr("x",d=>(d.part=="primary"? -135:210))
                        .attr("y",d=>+6)
                        .text(function(d){ return d3.format("0.0%")(d.percent)})
                        .attr("text-anchor",d=>(d.part=="primary"? "end": "start")); 

function mouseover(d){
bp1.mouseover(d);
                            g1.selectAll(".mainBars")
                            .select(".perc")
                            .text(function(d){ return d3.format("0.0%")(d.percent)});
}

                     function mouseout(d){
bp1.mouseout(d);
                            g1.selectAll(".mainBars")
                            .select(".perc")
                            .text(function(d){ return d3.format("0.0%")(d.percent)});
}


